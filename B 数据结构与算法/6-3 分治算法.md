[TOC]

### 分治算法

字面上的解释是 **“分而治之”**，就是把一个复杂的问题分成两个或更多的相同或相似的子问题，再把子问题分成更小的子问题……直到最后子问题可以简单的直接求解，原问题的解即子问题的解的**合并**。这个技巧是很多高效算法的基础，如排序算法(快速排序，归并排序)，傅立叶变换(快速傅立叶变换)……

分治算法可以求解的一些经典问题：

- 二分搜索
- 大整数乘法
- 棋盘覆盖
- 归并排序
- 快速排序
- 线性时间选
- 最接近点对问题
- 循环赛日程表
- 汉诺塔



分治法在每一层递归上都有三个步骤：

1)、分解：将原问题分解为若干个规模较小，相互独立，与原问题形式相同的子问题

2)、解决：若子问题规模较小而容易被解决则**直接解**，否则**递归地解**各个子问题

3)、合并：将各个子问题的解合并为原问题的解。

```java
if |P| ≤ n0
   then return(ADHOC(P))
// 将P分解为较小的子问题 P1 ,P2 ,…,Pk
for i←1 to k
do yi ← Divide-and-Conquer(Pi)   // 递归解决Pi
T ← MERGE(y1,y2,…,yk)   // 合并子问题
return(T)
```

其中 |P| 表示问题 P 的规模；n0 为一阈值，表示当问题 P 的规模不超过 n0 时，问题已容易直接解出，不必再继续分解。ADHOC(P) 是该分治法中的基本子算法，用于直接解小规模的问题 P。因此，当 P 的规模不超过 n0 时直接用算法 ADHOC(P) 求解。算法 MERGE(y1,y2,…,yk) 是该分治法中的**合并**子算法，用于将 P 的子问题 P1
,P2 ,…,Pk 的相应的解 y1,y2,…,yk 合并为 P 的解。



##### 汉诺塔

![1563523848296](assets/1563523848296.png)

有三个柱子，分别为 from、buffer、to。需要将 from 上的圆盘全部移动到 to 上，并且要保证小圆盘始终在大圆盘上。

这是一个经典的递归问题，分为三步求解：

① 将 n-1 个圆盘从 from -> buffer

![1563523859089](assets/1563523859089.png)

② 将 **1 个**圆盘从 from -> to

![1563523869528](assets/1563523869528.png)

③ 将 **n-1 个**圆盘从 buffer -> to

![1563523881670](assets/1563523881670.png)

如果只有**一个**圆盘，那么只需要进行**一次移动**操作。

如果我们有 n ≥ 2 的情况，我们总是可以看做是两个盘。 1.最下边的盘。2.上面所有的盘看成一个盘。

从上面的讨论可以知道，a<sub>n</sub> = 2 * a<sub>n-1</sub> + 1，显然 a<sub>n</sub> = 2<sup>n</sup> - 1，n 个圆盘需要移动 2<sup>n</sup> - 1 次。

```java
public class Hanoi {
    public static void move(int num, String from, String buffer, String to) {
        if (num == 1) {
            System.out.println("from " + from + " to " + to);
            return;
        } else {
            // num ≥ 2 的情况，我们总是可以看做是两个盘。1.最下边的盘。2.上面所有的盘看成一个盘
            // 把上面的n-1个盘移动到buffer
            move(num - 1, from, to, buffer);
            // 把最下面的盘从from移动到to
            move(1, from, buffer, to);
            // 把buffer的所有盘移动到to
            move(num - 1, buffer, from, to);
        }
    }

    public static void main(String[] args) {
        Hanoi.move(3, "H1", "H2", "H3");
    }
}
```

```html
from H1 to H3
from H1 to H2
from H3 to H2
from H1 to H3
from H2 to H1
from H2 to H3
from H1 to H3
```









