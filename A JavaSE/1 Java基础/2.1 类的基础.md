[TOC]

### 类的基础

#### 概述

- 引用超类的方法使用 super.method();
- 在运行时能够自动地选择调用那个方法的现象称为**动态绑定**。
- 虚拟机会给每个类创建一个**方法表**，列出所有方法的签名和实际调用的方法，减少搜索开销。



#### 对象构造

##### 1.重载

- 相同名字不同参数的方法。
- 方法名 + 参数类型 = **方法签名**。 **返回类型不是**方法签名的一部分。

##### 2.构造器

- 没有构造器时系统提供无参构造器。所有实例设置为默认值。如果类写了构造方法，无参构造方法就没有了除非自己再定义。
- 如果构造的**第一句**为 this(...)，则此构造器会调用**本类**中其他构造器。
- 子类构造器第一句为 super(...) , 会调用父类的构造器，不写 super 会调用父类**默认构造器**。不写super且父类没有默认构造器就会出错。
- 私有构造方法的应用场景：① 不能创建类的实例，类只能被静态访问；②能创建类的实例，但是只能静态方法创建，如单例模式； ③ 用来被其他多个构造方法调用。

##### 3.初始化块

- 普通初始化块会在 ==构造方法调用之前== 执行，构造对象时就会执行。**每次**新建对象在构造方法之前调用。
- ==静态初始化块会在类第一次加载==的时候调用，可对类中的**静态域**进行初始化。且只执行一次。

```java
public class Student{
    
    private static int nextId;
    private int id;
    private String name;
    private int age;
    
    // 普通初始化块 在构造方法之前执行
    {
        id = nextId;
        nextId++;
    }
    
    // 静态初始化块 在第一次类加载的时候执行
    static
    {
        Random generator = new Random();
        nextId = generator.nextInt(100);
    }
}
```



#### 包

- 从编译器角度看，嵌套的包之间没有任何关系。如 java.util与java.util.jar 之间没有任何关系。
- 如果有两个相同名称的方法，可以通过**全限定名**使用。类文件中的字节码都是使用**完整的包名**来引用其他类。
- 可静态导入静态方法与静态域。

```java
import static com.cz.test.change;   // 静态导入Test类中的change静态方法

change(harry);      // 使用change静态方法时不再需要类名的前缀
```

- 包名放在源文件开头，没有包名就属于默认包中。



#### 类设计技巧

- 一定要保证数据**私有**。不要破坏封装，使用private。
- 一定要对数据进行**初始化**，可以提供默认值，也可以在构造方法中设置默认值。
- 不是所有的域都需要独立的域访问器和域更改器。
- 将职责过多的类分解。
- 类名与方法名能体现作用。
- 优先使用不可变的类。













